<%- include('../partials/headProduct.ejs')%>

<%-include('../partials/header.ejs')%>

    <main>
    <section class="product-mobile">
      <div class="card">
        <img src="/images/budapest.jpg" alt="ImagenDelProducto">
        <div class="card-body">
            <h2 class="card-title">Nombre del Producto</h2>
            <p class="card-price">$99.99</p>
            <p class="card-description">Esta es una breve descripción del producto. Es muy útil y tiene características increíbles.</p>
        </div>
      </div>
    </section>
    <section class="product-desktop">
      <div class="product-container">
        <!-- Carrusel de imágenes -->
          <div class="product-carousel">
              <div class="carousel-images">
                <% if (locals.product) { %>
                  <img src="<%= product.foto %>" alt="<%= product.direccion %>">
                  <img src="<%= product.foto %>" alt="<%= product.direccion %>">
                  <img src="<%= product.foto %>" alt="<%= product.direccion %>">
                <% } %>
              </div>
          </div>
          
        <!-- Contenido del producto (dividido en dos columnas) -->
          <div class="product-content">
            <!-- Columna izquierda: Imagen -->
            <div class="product-image">
              <% if (locals.product) { %>
                <img src="<%= product.foto %>" alt="<%= product.direccion %>">
              <% } %>
            </div>
            <!-- Columna derecha: Información -->
            <div class="product-details">
                <% if (locals.product) { %>
                  <h2 class="product-title"><%= product.direccion || 'Dirección no disponible' %></h2>
                  <p class="product-description">Cantidad de metros cuadrados: <%= product.m2 || 'Datos no disponible' %></p>
                  <p class="product-description">Cantidad de ambientes: <%= product.ambientes || 'Datos no disponible' %></p>
                  <h3 class="product-price">$<%= product.precio || 'Datos no disponible' %></h3>
                  
                  <!-- Iframe actualizado para usar la URL personalizada -->
                  <% if (product.mapsUrl) { %>
                      <iframe 
                          src="<%= product.mapsUrl %>"
                          width="600" 
                          height="200" 
                          style="border:0;" 
                          allowfullscreen="" 
                          loading="lazy">
                      </iframe>
                  <% } else { %>
                      <p>Ubicación no disponible</p>
                  <% } %>
                  <% } %>
                <div class="product-button">
                  <button class="contact-button" onclick="contactar('<%= product.direccion %>')">Contactar</button>
                  <button class="reserve-button" onclick="reservar('<%= product.id %>')">Reservar</button>
                  <button class="favorite-button" onclick="toggleFavorite('<%= product.id %>')">
                    <span id="favorite-<%= product.id %>">🤍</span> Agregar a Favoritos
                  </button>
                </div>
              </div>
        </div>
      </div>
    </div>
</section>

    </main>
    <%-include('../partials/footer.ejs')%>

    <!-- Scripts -->
    <script src="/javascripts/home.js"></script>
    <script>
      // Agregar evento de cambio al checkbox
      document.getElementById("input").addEventListener("change", changeTheme);
    </script>
    <!-- Script del carrusel -->
    <script src="/javascripts/script.js"></script>
  </body>
</html>
